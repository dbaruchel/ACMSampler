<head>
  <title>ACMSampler</title>
</head>

<body>
</body>

<!-- PAGE COEUR -->
<template name="coeur">
  <div class="overlay {{lightStatus}}"></div>
  <div class="torch-pane pane">
    <div id="light-cone-img-container" class="torch-{{lightStatus}}">
      <img id="light-cone-img" class="direction-{{torchDirection}}" src="/light-cone.png">
    </div>
    <div id="torch-img-container">
      <img id="torch-img" class="direction-{{torchDirection}}" src="/torch-group-image.png">
    </div>
    <div id="turn-buttons">
      <button class="turn-torch" id="turn-left">&larr;</button>
      <button class="turn-torch" id="turn-right">&rarr;</button>
    </div>
    <button id="light-button">light please</button>
  </div>
  <div class="floor-pane pane">
    {{#each directions}}
      <div id="direction-{{this.name}}-container" class="direction-container" style="position:absolute; text-align:center;">
        <!-- on appelle le template ci dessous -->
        {{>direction name=this.name index=this.index}}
      </div>
    {{/each}}
    <div class="coeur-container" style="text-align:center; position:absolute; top:{{coeurProps.y0}}px; left: {{coeurProps.x0}}px">
      <h3>COEUR</h3>
      {{#if hasWon}}
        WINNER !
        <div style="width: 300px; display: block; margin: auto;">
          <img style="width: 100%; " class="coeur-image" src="{{coeurImage}}">
        </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="direction">
  <div class="direction-name" style="position:absolute;color:white">{{name}}</div>
  <div class="direction-number" style="display:none;">{{touchOccurences}}</div>
  <!-- <div class="direction-son-courant">{{sonCourant}}</div> -->
  <div class="direction-son-htmlText" style="position: absolute;">{{{sonHtmlText}}}</div>
  <div style="width: 300px; display: block; margin-left: auto; margin-right: auto;">
    <img style="width: 100%;" class="direction-son-image" src="{{sonImage}}">
  </div>
</template>

<!-- PAGE VERS -->
<template name="vers">
  {{directionName}}
  <div id=blackscreen-{{directionName}} class="blackscreen {{lightStatus}} direction-{{torchDirection}}"></div>
  {{#each sons}}
    <div class="son-container" style="position:absolute; text-align:center;">
      <!-- on appelle le template ci dessous -->
      {{>sonTemplate son=this directionName=directionName}}
    </div>
  {{/each}}
  <div style="width: 300px; display: block; margin-left: auto; margin-right: auto;">
    <img style="width: 100%;" class="vers-son-image" src="{{sonImage}}">
  </div>
</template>

<template name="sonTemplate">
  <div class="son-name">{{son.fileName}}</div>
  {{#if isPlaying}}
    <img style="width: 50px" src='/icons/play.png'>
  {{/if}}
</template>
